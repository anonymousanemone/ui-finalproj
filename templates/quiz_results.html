{% extends "layout.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='quiz.css') }}">

<div class="quiz-background text-center d-flex justify-content-center align-items-center">
    <div class="main-box">
        <div class="header-banner text-center py-3"></div>
        <h1 class="notebook-title">Quiz Results</h1>
        
        <div class="results-container">
            <h5>You got</h5>
            <h2 class="score-display"><span id="final-score">0</span> out of 13 points!</h2>
            
            <div class="feedback pt-2">
                <p id="feedback-text"></p>
            </div>
            
            <div class="button-container">
                <a href="/" class="btn btn-purple mt-3 me-3">Home</a>
                <a href="/quiz/2" class="btn btn-purple mt-3">Try Again</a>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        let score = parseInt(localStorage.getItem('quiz_score') || 0);
        $('#final-score').text(score);
        
        // Clear the score for next time
        localStorage.removeItem('quiz_score');
        
        // Provide feedback based on score
        let feedback = '';
        if (score === 13) {
            feedback = "Perfect! You're a baking substitution master!";
        } else if (score >= 9) {
            feedback = "Great job! You know your substitutions well!";
        } else if (score >= 6) {
            feedback = "Good effort! Keep learning about substitutions!";
        } else {
            feedback = "Keep practicing! You'll get better with time!";
        }
        $('#feedback-text').text(feedback);
    });
</script>
{% endblock %} 